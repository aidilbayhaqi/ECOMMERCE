(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1818:(e,a,s)=>{Promise.resolve().then(s.bind(s,5597))},6046:(e,a,s)=>{"use strict";var r=s(6658);s.o(r,"useParams")&&s.d(a,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}})},5597:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var r=s(5155),t=s(8173),d=s.n(t),l=s(2115),o=s(2651),n=s(3391),i=s(6046),u=s(3012);o.A.defaults.withCredentials=!0;let c=()=>{let[e,a]=(0,l.useState)(""),[s,t]=(0,l.useState)(""),o=(0,n.wA)(),c=(0,i.useRouter)(),{user:p,isError:h,isSuccess:g,isLoading:f,message:m}=(0,n.d4)(e=>e.auth);return(0,l.useEffect)(()=>{(p||g)&&c.push("/"),o((0,u.cL)())},[p,g,o,c]),(0,r.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,r.jsxs)("form",{action:"",className:"bg-dark-secondary p-10 rounded-xl flex flex-col gap-8",onSubmit:a=>{a.preventDefault(),o((0,u.Hn)({email:e,password:s}))},children:[h&&(0,r.jsx)("p",{className:"has-text-centered",children:m}),(0,r.jsx)("h1",{children:"LOGIN"}),(0,r.jsx)("input",{type:"email",placeholder:"Email",className:"w-full p-5 border rounded bg-darkcard",value:e,onChange:e=>a(e.target.value)}),(0,r.jsx)("input",{type:"password",placeholder:"Password",className:"w-full p-5 border rounded bg-darkcard",value:s,onChange:e=>t(e.target.value)}),(0,r.jsx)("button",{className:"bg-teal-500 cursor-pointer rounded p-3",children:f?"Loading...":"Login"}),(0,r.jsx)(d(),{href:"/register",children:"Dont have any acount? lets register"})]})})}},3012:(e,a,s)=>{"use strict";s.d(a,{Ay:()=>h,Hn:()=>l,cL:()=>u,jp:()=>o,nU:()=>n});var r=s(8943),t=s(2651);let d={user:null,collection:[],isError:!1,isSuccess:!1,isLoading:!1,message:""},l=(0,r.zD)("user/LoginUser",async(e,a)=>{try{return(await t.A.post("http://localhost:5000/login",{email:e.email,password:e.password})).data}catch(e){if(e.response){let s=e.response.data.msg;return a.rejectWithValue(s)}}}),o=(0,r.zD)("user/getMe",async(e,a)=>{try{return(await t.A.get("http://localhost:5000/me")).data}catch(e){if(e.response){let s=e.response.data.msg;return a.rejectWithValue(s)}}}),n=(0,r.zD)("user/LogOut",async()=>{await t.A.delete("http://localhost:5000/logout")}),i=(0,r.Z0)({name:"auth",initialState:d,reducers:{reset:e=>d,addToCollection:(e,a)=>{let{id:s,quantity:r}=a.payload,t=e.collection.find(e=>e.id===s);t?t.quantity+=r:e.cart.push({...a.payload})},removeFromCollection:(e,a)=>{e.cart=e.cart.filter(e=>e.id!==a.payload.id)}},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0}),e.addCase(l.fulfilled,(e,a)=>{e.isLoading=!1,e.isSuccess=!0,e.user=a.payload}),e.addCase(l.rejected,(e,a)=>{e.isLoading=!1,e.isError=!0,e.message=a.payload}),e.addCase(o.pending,e=>{e.isLoading=!0}),e.addCase(o.fulfilled,(e,a)=>{e.isLoading=!1,e.isSuccess=!0,e.user=a.payload}),e.addCase(o.rejected,(e,a)=>{e.isLoading=!1,e.isError=!0,e.message=a.payload})}}),{reset:u,addToCollection:c,removeFromCollection:p}=i.actions,h=i.reducer}},e=>{var a=a=>e(e.s=a);e.O(0,[497,943,441,517,358],()=>a(1818)),_N_E=e.O()}]);